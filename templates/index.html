{% import "macros/page.html" as page_macros %}
<!DOCTYPE html>
<html data-theme="mytheme" lang="{% if lang %}{{ lang }}{% else %}en{% endif %}">
<head>
    <meta charset="utf-8">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer-when-downgrade">

    {% block title %}
        <title>{{ config.title }}</title>
        <meta property="og:title" content="{{ config.title }}"/>
        <meta name="twitter:title" content="{{ config.title }}" />
    {% endblock title %}

    {% block description %}
        <meta name="description" content="{{ config.description }}"/>
        <meta property="og:description" content="{{ config.description }}"/>
        <meta name="twitter:description" content="{{ config.description }}" />
    {% endblock description %}

    <meta name="author" content="Cameron"/>
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://cameron.rs" />
    <meta property="og:site_name" content="cameron.rs" />
    <meta name="twitter:card" content="summary_large_image" />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸš€</text></svg>"
    />

    {% if config.generate_feed %}
        <link rel="alternate" type={% if config.feed_filename == "atom.xml" %}"application/atom+xml"{% else %}"application/rss+xml"{% endif %} title="RSS" href="{{ get_url(path=config.feed_filename) | safe }}">
    {% endif %}

    {# Tailwind CSS #}
    <link rel="stylesheet" type="text/css" href="/style.css">

    {% block extra_head %}
    {% endblock extra_head %}
    <script
      src="https://kit.fontawesome.com/6029373499.js"
      crossorigin="anonymous"
    ></script>
</head>
<body>
    <div class="flex flex-col items-center h-full">
        <div class="flex justify-center w-full">
            <nav class="navbar lg:w-5/6">
                <div class="flex-1">
                    <a class="btn btn-ghost normal-case text-2xl font-bold" href="https://cameron.rs">
                        <span class="">cameron</span>
                        <span class="text-primary">.rs</span>
                    </a>
                </div>
                <div class="hidden md:flex flex-none text-lg">
                    <ul class="menu menu-horizontal px-1">
                        {% for menu_link in config.extra.menu_links %}
                            {% set link_url = menu_link.url | replace(from="$BASE_URL", to=config.base_url) %}
                            <li><a href="{{ link_url }}">{{menu_link.name}}</a></li>
                        {% endfor %}
                    </ul>
                </div>

                <div class="dropdown dropdown-bottom dropdown-end md:hidden flex-none text-xl">
                    <label tabindex="0" class="btn btn-ghost btn-circle">
                        <i class="fa-solid fa-bars"></i>
                    </label>
                    <ul tabindex="0" class="menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52">
                        {% for menu_link in config.extra.menu_links %}
                            {% set link_url = menu_link.url | replace(from="$BASE_URL", to=config.base_url) %}
                            <li><a href="{{ link_url }}">{{menu_link.name}}</a></li>
                        {% endfor %}
                    </ul>
                </div>
            </nav>
        </div>
        <main class="pt-8 w-11/12 lg:w-3/4 mb-[6rem]" id="main" tabindex="-1">
            {% block content %}
                {% if paginator.pages %}
                    <div>
                        {% set tags = get_taxonomy(kind="tags") %}
                        {% for term in tags.items %}
                            <a class="tag-button" href="{{ term.permalink | safe }}">
                                #{{ term.name }}
                            </a>
                        {% endfor %}
                        <div class="divider my-2"></div>
                    </div>

                    {% set pages_length = paginator.pages | length %}
                    {% for page in paginator.pages %}
                        {{ page_macros::page_listing(page=page) }}

                        {# This is the divider between post listings #}
                        {% if loop.index != pages_length %}
                            <div class="divider"></div>
                        {% endif %}
                    {% endfor %}
                    
                    {% if paginator.previous or paginator.next %}
                        <div class="flex justify-center">
                            {{ page_macros::page_pagination(paginator=paginator) }}
                        </div>
                    {% endif %}
                {% else %}
                    {% for page in section.pages %}
                        {{ page_macros::page_listing(page=page) }}
                    {% endfor %} 
                {% endif %}
            {% endblock content %}
        </main>
        <div class="flex w-full mt-auto bg-neutral justify-center">
            <footer class="footer lg:w-5/6 items-center p-4 text-neutral-content">
                <p>
                    {{ config.title | safe }} Â© {{ now() | date(format="%Y") }}<br>
                </p>
                <div class="text-2xl grid-flow-col gap-5 md:place-self-center md:justify-self-end">
                    <a class="link" href="{{ config.extra.github }}">
                        <i class="fa-brands fa-github"></i>
                    </a>
                    <a class="link" href="{{ config.extra.linkedin }}">
                        <i class="fa-brands fa-linkedin"></i>
                    </a>
                    <a class="link" href="mailto:{{ config.extra.email }}">
                        <i class="fa-solid fa-envelope"></i>
                    </a>
                </div>
            </footer>
        </div>
    </div>
</body>
</html>
